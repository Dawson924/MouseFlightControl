local key = 'RMB'
local lastFov = GetAttribute('camera_fov')
local targetFov = lastFov / 2

local function fov(value)
    local f = Axis.len / 160
    return Axis.min + f * value
end

local function axis2fov(value)
    return (value - Axis.min) / (Axis.len / 160)
end

IsZooming = false

function Update()
    if Input.pressed(key) then
        IsZooming = not IsZooming
        if IsZooming then
            lastFov = axis2fov(Axis.vz)
            Axis.setValue('vz', fov(targetFov))
        else
            Axis.setValue('vz', fov(lastFov))
        end
    end
end
